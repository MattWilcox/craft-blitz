{% import "_includes/forms" as forms %}

{% set utilities = [
    {
        action: 'clear',
        title: 'Clear Blitz Cache',
        instructions: 'Clearing the cache will delete all cached pages.',
    },
    {
        action: 'flush',
        title: 'Flush Blitz Cache',
        instructions: 'Flushing the cache will clear the cache and remove all records from the database.',
    },
    {
        action: 'purge',
        title: 'Purge Blitz Cache',
        instructions: 'Purging the cache will delete all cached pages in the reverse proxy purger.',
    },
    {
        action: 'warm',
        title: 'Warm Blitz Cache',
        instructions: 'Warming the cache will flush the cache and add a job to the queue to recache all of the pages.',
    },
    {
        action: 'refresh-expired',
        title: 'Refresh Expired Blitz Cache',
        instructions: 'Refreshing the expired cache will refresh all elements that have expired since they were cached.',
    },
] %}

{{ driverHtml|raw }}

{% for utility in utilities %}
    <form class="utility" method="post" accept-charset="UTF-8">
        <input type="hidden" name="action" value="blitz/cache/{{ utility.action }}">
        <input type="hidden" name="utility" value="1">
        {{ redirectInput('utilities/blitz-cache') }}
        {{ csrfInput() }}
        <p class="light">{{ utility.instructions|t('blitz') }}</p>
        <input type="submit" class="btn submit" value="{{ utility.title|t('blitz') }}" />
    </form>
    {% if not loop.last %}
        <br/>
    {% endif %}
{% endfor %}