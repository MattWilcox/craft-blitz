{% import "_includes/forms" as forms %}


{{ forms.autosuggestField({
    label: "Email"|t('blitz'),
    instructions: "The email address associated with your Cloudflare account."|t('blitz'),
    suggestEnvVars: true,
    suggestions: craft.cp.getEnvSuggestions(),
    name: 'email',
    value: purger.email,
    errors: purger.getErrors('email'),
    required: true,
}) }}

{{ forms.autosuggestField({
    label: "Global API Key"|t('blitz'),
    instructions: "The global API key for your Cloudflare account. This can be found under “My Profile” in your Cloudflare account."|t('blitz'),
    suggestEnvVars: true,
    suggestions: craft.cp.getEnvSuggestions(),
    name: 'apiKey',
    value: purger.apiKey,
    errors: purger.getErrors('apiKey'),
    required: true,
}) }}

{{ forms.autosuggestField({
    label: "Zone ID"|t('blitz'),
    instructions: "The zone ID of your Cloudflare account. This can be found on the “Overview” screen of your domain in your Cloudflare account."|t('blitz'),
    suggestEnvVars: true,
    suggestions: craft.cp.getEnvSuggestions(),
    name: 'zoneId',
    value: purger.zoneId,
    errors: purger.getErrors('zoneId'),
    required: true,
}) }}

{% set helpText %}
Cloudflare does not cache HTML by default. To enable static page caching, create a new page rule in the “Page Rules” page of the domain in your account (you get 3 page rules with a free plan). Enter a URL pattern such as `domain.com/*` and add a “Cache Level” setting with a value of “Cache Everything”. Click “Save and Deploy” and then visit your site. With dev tools open you should see a cache response (`HIT`, `MISS`, etc.) in the `CF-Cache-Status` header.
{% endset %}

<div class="light">
    {{ helpText|markdown }}
</div>